<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PantryChef Pro - å¿™ã—ã„ãƒãƒã®ãŸã‚ã®ç°¡å˜ãƒ¬ã‚·ãƒ”</title>
  <link rel="manifest" href="manifest.json">
  <meta name="description" content="å¿™ã—ã„å…±åƒããƒãƒã®å‘³æ–¹ï¼å†·è”µåº«ã®é£Ÿæã‹ã‚‰æ™‚çŸ­ãƒ¬ã‚·ãƒ”ã‚’ææ¡ˆã€‚é£Ÿæãƒ­ã‚¹å‰Šæ¸›ã§ç¯€ç´„ã‚‚â™ª">
  <meta property="og:title" content="PantryChef Pro - å¿™ã—ã„ãƒãƒã®ãƒ¬ã‚·ãƒ”ã‚¢ãƒ—ãƒª">
  <meta property="og:description" content="å†·è”µåº«ã®æ®‹ã‚Šç‰©ã§ä½•ä½œã‚ã†ï¼ŸAIãŒ15åˆ†ä»¥å†…ã®æ™‚çŸ­ãƒ¬ã‚·ãƒ”ã‚’ææ¡ˆï¼">
  <meta property="og:image" content="images/ogp-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/wcAAwAB/3WuuKQAAAAASUVORK5CYII=">
  
  <!-- External Libraries -->
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary-color: #4CAF50;
      --primary-dark: #388E3C;
      --secondary-color: #FF9800;
      --accent-color: #2196F3;
      --warm-pink: #FFE0E6;
      --soft-green: #E8F5E8;
      --light-orange: #FFF3E0;
      --background: #FAFAFA;
      --surface: #FFFFFF;
      --text-primary: #2E2E2E;
      --text-secondary: #666666;
      --border: #E0E0E0;
      --shadow: 0 4px 12px rgba(0,0,0,0.08);
      --shadow-hover: 0 8px 25px rgba(0,0,0,0.12);
      --radius: 16px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--background);
      color: var(--text-primary);
      line-height: 1.7;
      font-weight: 400;
    }

    .mama-header {
      background: linear-gradient(135deg, var(--primary-color) 0%, #66BB6A 100%);
      color: white;
      padding: 3rem 0 4rem;
      position: relative;
      overflow: hidden;
    }

    .mama-header::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -10%;
      width: 300px;
      height: 300px;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
      transform: rotate(45deg);
    }

    .mama-header::after {
      content: '';
      position: absolute;
      bottom: -30%;
      left: -5%;
      width: 200px;
      height: 200px;
      background: rgba(255,255,255,0.05);
      border-radius: 50%;
    }

    .header-content {
      position: relative;
      z-index: 2;
      text-align: center;
    }

    .app-logo {
      font-size: 3.5rem;
      margin-bottom: 1rem;
      display: block;
    }

    .app-title {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 1rem;
      letter-spacing: -0.02em;
    }

    .app-subtitle {
      font-size: 1.2rem;
      opacity: 0.95;
      margin-bottom: 2rem;
      font-weight: 300;
    }

    .mama-benefits {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
      margin-top: 2rem;
    }

    .benefit-item {
      background: rgba(255,255,255,0.15);
      padding: 1rem 1.5rem;
      border-radius: 25px;
      font-size: 0.9rem;
      font-weight: 500;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
    }

    .main-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
      position: relative;
      margin-top: -2rem;
    }

    .quick-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-bottom: 3rem;
    }

    .stat-card {
      background: var(--surface);
      padding: 2rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      text-align: center;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .stat-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-hover);
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    }

    .stat-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: var(--primary-color);
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 0.5rem;
    }

    .stat-label {
      font-size: 1rem;
      color: var(--text-secondary);
      font-weight: 500;
    }

    .mama-section {
      background: var(--surface);
      border-radius: var(--radius);
      padding: 2.5rem;
      margin-bottom: 2.5rem;
      box-shadow: var(--shadow);
      position: relative;
    }

    .section-header {
      display: flex;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 3px solid #f0f0f0;
    }
      .section-header.accordion-header {
        cursor: pointer;
        position: relative;
      }

    .section-icon {
      font-size: 2rem;
      margin-right: 1rem;
      padding: 1rem;
      background: var(--soft-green);
      border-radius: 50%;
      color: var(--primary-color);
    }

    .section-title {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--text-primary);
      margin: 0;
    }

    .section-subtitle {
      font-size: 1rem;
      color: var(--text-secondary);
      margin-top: 0.5rem;
      font-weight: 400;
    }

    .ingredients-container {
      background: var(--soft-green);
      padding: 2rem;
      border-radius: var(--radius);
      margin-bottom: 2rem;
    }

    .ingredients-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 1rem;
    }

    .ingredient-card {
      background: var(--surface);
      border: 2px solid transparent;
      border-radius: 12px;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: center;
      position: relative;
      user-select: none;
    }

    .ingredient-card:hover {
      border-color: var(--primary-color);
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(76, 175, 80, 0.2);
    }

    .ingredient-card.selected {
      border-color: var(--primary-color);
      background: linear-gradient(135deg, var(--soft-green), rgba(76, 175, 80, 0.1));
      transform: translateY(-2px);
    }

    .ingredient-card .ingredient-emoji {
      font-size: 2rem;
      margin-bottom: 0.5rem;
      display: block;
    }

    .ingredient-card .ingredient-name {
      font-size: 0.9rem;
      font-weight: 500;
      color: var(--text-primary);
    }

    .ingredient-card input[type="checkbox"] {
      position: absolute;
      top: 0.5rem;
      right: 0.5rem;
      width: 20px;
      height: 20px;
      accent-color: var(--primary-color);
    }

    .custom-ingredient-section {
      background: var(--light-orange);
      padding: 2rem;
      border-radius: var(--radius);
      margin-top: 2rem;
    }

    .custom-ingredient-header {
      display: flex;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .custom-ingredient-icon {
      font-size: 1.5rem;
      margin-right: 0.5rem;
      color: var(--secondary-color);
    }

    .custom-ingredient-input {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .custom-ingredient-field {
      flex: 1;
      padding: 1rem;
      border: 2px solid var(--border);
      border-radius: 12px;
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }

    .custom-ingredient-field:focus {
      outline: none;
      border-color: var(--secondary-color);
      box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.1);
    }

    .mama-button {
      padding: 1rem 2rem;
      border: none;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      font-family: inherit;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(76, 175, 80, 0.3);
    }

    .btn-secondary {
      background: linear-gradient(135deg, var(--secondary-color), #F57C00);
      color: white;
    }

    .btn-secondary:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 152, 0, 0.3);
    }

    .filters-section {
      background: var(--warm-pink);
      padding: 2rem;
      border-radius: var(--radius);
      margin-bottom: 2rem;
    }

    .filters-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
    }

    .filter-group {
      display: flex;
      flex-direction: column;
    }

    .filter-label {
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .filter-control {
      padding: 1rem;
      border: 2px solid var(--border);
      border-radius: 12px;
      font-size: 1rem;
      background: var(--surface);
      transition: border-color 0.3s ease;
    }

    .filter-control:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
    }

    .search-section {
      text-align: center;
      padding: 3rem 2rem;
    }

    .fixed-search {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1000;
      padding: 0;
    }

    .search-btn {
      font-size: 1.3rem;
      padding: 1.5rem 4rem;
      background: linear-gradient(135deg, var(--accent-color), #1976D2);
      border: none;
      border-radius: 50px;
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    .search-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(33, 150, 243, 0.4);
    }

    .search-btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .search-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      background: rgba(255,255,255,0.2);
      border-radius: 50%;
      transition: all 0.6s ease;
      transform: translate(-50%, -50%);
    }

    .search-btn:active::before {
      width: 300px;
      height: 300px;
    }

    .results-container {
      margin-top: 3rem;
    }

    .recipe-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
      gap: 2rem;
    }

    .recipe-card {
      background: var(--surface);
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: var(--shadow);
      transition: all 0.3s ease;
      position: relative;
      border: 2px solid transparent;
    }

    .recipe-card:hover {
      transform: translateY(-6px);
      box-shadow: var(--shadow-hover);
      border-color: var(--primary-color);
    }

    .recipe-header {
      padding: 2rem;
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      color: white;
      position: relative;
      cursor: pointer;
    }

    .accordion-arrow {
      position: absolute;
      top: 50%;
      right: 1.5rem;
      transform: translateY(-50%);
    }

    .accordion-content {
      display: none;
    }

    .recipe-badges {
      position: absolute;
      top: 1rem;
      right: 1rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .recipe-badge {
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      text-align: center;
      backdrop-filter: blur(10px);
    }

    .match-badge {
      background: var(--secondary-color);
      color: white;
    }

    .time-badge {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 1px solid rgba(255,255,255,0.3);
    }

    .recipe-title {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
      line-height: 1.3;
    }

    .recipe-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.95rem;
      opacity: 0.95;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .recipe-content {
      padding: 2rem;
    }

    .ingredients-section {
      margin-bottom: 2rem;
    }

    .ingredients-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .ingredients-list {
      list-style: none;
      background: var(--background);
      border-radius: 12px;
      padding: 1rem;
    }

    .ingredient-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.75rem 0;
      border-bottom: 1px solid var(--border);
    }

    .ingredient-item:last-child {
      border-bottom: none;
    }

    .ingredient-available {
      color: var(--primary-color);
      font-weight: 600;
    }

    .ingredient-missing {
      color: var(--text-secondary);
    }

    .instructions-section {
      background: var(--background);
      padding: 1.5rem;
      border-radius: 12px;
      margin-bottom: 2rem;
    }

    .instructions-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .instructions-list {
      list-style: none;
      counter-reset: step-counter;
    }

    .instructions-list li {
      counter-increment: step-counter;
      margin-bottom: 1rem;
      padding-left: 3rem;
      position: relative;
      line-height: 1.6;
    }

    .instructions-list li::before {
      content: counter(step-counter);
      position: absolute;
      left: 0;
      top: 0;
      background: var(--primary-color);
      color: white;
      width: 2rem;
      height: 2rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      font-weight: 600;
    }

    .nutrition-section {
      background: var(--soft-green);
      padding: 1.5rem;
      border-radius: 12px;
      margin-bottom: 1.5rem;
    }

    .nutrition-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
      gap: 1rem;
    }

    .nutrition-item {
      text-align: center;
      background: var(--surface);
      padding: 1rem;
      border-radius: 8px;
    }

    .nutrition-value {
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--primary-color);
    }

    .nutrition-label {
      font-size: 0.8rem;
      color: var(--text-secondary);
      margin-top: 0.3rem;
    }

    .recipe-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .recipe-tag {
      background: var(--warm-pink);
      color: var(--text-primary);
      padding: 0.4rem 1rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
    }

    .mama-tips {
      background: linear-gradient(135deg, #FFF9C4, #FFF3E0);
      padding: 2rem;
      border-radius: var(--radius);
      margin: 3rem 0;
      border-left: 6px solid var(--secondary-color);
    }

    .tips-header {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
    }

    .tips-icon {
      font-size: 2rem;
      margin-right: 1rem;
      color: var(--secondary-color);
    }

    .tips-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--text-primary);
    }

    .tips-list {
      list-style: none;
      padding: 0;
    }

    .tips-list li {
      padding: 0.75rem 0;
      display: flex;
      align-items: flex-start;
      gap: 1rem;
    }

    .tips-list li::before {
      content: 'ğŸ’¡';
      font-size: 1.2rem;
      flex-shrink: 0;
    }

    .loading-state {
      text-align: center;
      padding: 4rem 2rem;
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid var(--border);
      border-top: 4px solid var(--primary-color);
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 0 auto 2rem;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .no-results {
      text-align: center;
      padding: 4rem 2rem;
      color: var(--text-secondary);
    }

    .no-results-icon {
      font-size: 4rem;
      margin-bottom: 1rem;
      opacity: 0.5;
    }

    .footer {
      background: var(--text-primary);
      color: white;
      text-align: center;
      padding: 3rem 0;
      margin-top: 4rem;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }

    .footer-links a {
      color: white;
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      transition: background-color 0.3s ease;
    }

    .footer-links a:hover {
      background-color: rgba(255,255,255,0.1);
    }

    .difficulty-easy {
      background: var(--soft-green);
      color: var(--primary-dark);
    }

    .difficulty-medium {
      background: var(--light-orange);
      color: #F57C00;
    }

    .difficulty-hard {
      background: var(--warm-pink);
      color: #C62828;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .main-container {
        padding: 0 1rem;
      }
      
      .app-title {
        font-size: 1.8rem;
      }
      
      .mama-benefits {
        gap: 1rem;
      }
      
      .benefit-item {
        padding: 0.75rem 1rem;
        font-size: 0.8rem;
      }

      .ingredients-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 0.75rem;
      }

      .quick-stats {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
        gap: 1rem;
      }

      .stat-card {
        padding: 1rem;
      }

      .stat-icon {
        font-size: 2rem;
      }

      .stat-value {
        font-size: 2rem;
      }
      
      .recipe-grid {
        grid-template-columns: 1fr;
      }
      
      .filters-grid {
        grid-template-columns: 1fr;
      }
      
      .mama-section {
        padding: 1.5rem;
      }

      .search-btn {
        padding: 1.2rem 2.5rem;
        font-size: 1.1rem;
      }

      .custom-ingredient-input {
        flex-direction: column;
      }

      .custom-ingredient-input .mama-button {
        width: 100%;
      }

      .custom-ingredient-input .custom-ingredient-field {
        width: 100%;
      }
    }

    /* PDF Export Optimization */
    @media print {
      * {
        box-shadow: none !important;
      }
      
      .mama-header::before,
      .mama-header::after {
        display: none;
      }
      
      body {
        background: white;
      }
      
      .mama-section,
      .stat-card {
        break-inside: avoid;
        page-break-inside: avoid;
      }
    }
  </style>
</head>
<body>
  <header class="mama-header">
    <div class="main-container">
      <div class="header-content">
        <span class="app-logo">ğŸ‘©â€ğŸ³âœ¨</span>
        <h1 class="app-title">PantryChef Pro</h1>
        <p class="app-subtitle">å¿™ã—ã„ãƒãƒã®å‘³æ–¹ï¼å†·è”µåº«ã®é£Ÿæã‹ã‚‰æ™‚çŸ­ãƒ¬ã‚·ãƒ”ã‚’ææ¡ˆ</p>
        <div class="mama-benefits">
          <div class="benefit-item">
            <i class="fas fa-clock"></i> 15åˆ†ä»¥å†…ã®æ™‚çŸ­ãƒ¬ã‚·ãƒ”
          </div>
          <div class="benefit-item">
            <i class="fas fa-leaf"></i> é£Ÿæãƒ­ã‚¹å‰Šæ¸›ã§ç¯€ç´„
          </div>
          <div class="benefit-item">
            <i class="fas fa-heart"></i> æ „é¤Šãƒãƒ©ãƒ³ã‚¹é‡è¦–
          </div>
          <div class="benefit-item">
            <i class="fas fa-mobile-alt"></i> ã‚¹ãƒãƒ›ã§ç°¡å˜æ“ä½œ
          </div>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="main-container">
      <!-- Quick Stats Section -->
      <div class="quick-stats" id="stats">
        <div class="stat-card">
          <div class="stat-icon">ğŸ¥¬</div>
          <div class="stat-value" id="selected-count">0</div>
          <div class="stat-label">é¸æŠã—ãŸé£Ÿæ</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ“±</div>
          <div class="stat-value" id="recipe-count">0</div>
          <div class="stat-label">è¦‹ã¤ã‹ã£ãŸãƒ¬ã‚·ãƒ”</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">ğŸ³</div>
          <div class="stat-value" id="total-recipe-count">0</div>
          <div class="stat-label">ç·ãƒ¬ã‚·ãƒ”æ•°</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">â­</div>
          <div class="stat-value" id="match-rate">0%</div>
          <div class="stat-label">å¹³å‡ãƒãƒƒãƒç‡</div>
        </div>
        <div class="stat-card">
          <div class="stat-icon">â±ï¸</div>
          <div class="stat-value" id="avg-time">0åˆ†</div>
          <div class="stat-label">å¹³å‡èª¿ç†æ™‚é–“</div>
        </div>
      </div>

      <!-- Ingredients Selection Section -->
      <section class="mama-section">
        <div class="section-header accordion-header" onclick="toggleSection(event)">
          <div class="section-icon">
            <i class="fas fa-carrot"></i>
          </div>
          <div>
            <h2 class="section-title">å†·è”µåº«ã®é£Ÿæã‚’ãƒã‚§ãƒƒã‚¯</h2>
            <p class="section-subtitle">ä»Šã‚ã‚‹é£Ÿæã‚’é¸ã‚“ã§ã€ç„¡é§„ãªãç¾å‘³ã—ãï¼</p>
          </div>
            <span class="accordion-arrow"><i class="fas fa-chevron-down"></i></span>
        </div>

        <div class="accordion-content">
          <div class="ingredients-container">
            <div class="ingredients-grid" id="ingredients"></div>
          </div>

          <div class="custom-ingredient-section">
            <div class="custom-ingredient-header">
              <i class="fas fa-plus-circle custom-ingredient-icon"></i>
              <h3>ãã®ä»–ã®é£Ÿæã‚’è¿½åŠ </h3>
            </div>
            <div class="custom-ingredient-input">
              <input type="text" id="custom-ingredient" class="custom-ingredient-field" placeholder="ä¾‹ï¼šãã‚…ã†ã‚Šã€ã—ã„ãŸã‘ã€è±†è…...">
              <button class="mama-button btn-secondary" id="add-ingredient">
                <i class="fas fa-plus"></i> è¿½åŠ 
              </button>
            </div>
          </div>
        </div>
      </section>

      <!-- Search Filters Section -->
      <section class="mama-section">
        <div class="section-header accordion-header" onclick="toggleSection(event)">
          <div class="section-icon">
            <i class="fas fa-filter"></i>
          </div>
          <div>
            <h2 class="section-title">ãŠå¥½ã¿ã®æ¡ä»¶ã‚’è¨­å®š</h2>
            <p class="section-subtitle">å¿™ã—ã„æ—¥ã§ã‚‚å®‰å¿ƒï¼æ™‚çŸ­ãƒ¬ã‚·ãƒ”ã‚’å„ªå…ˆæ¤œç´¢</p>
          </div>
          <span class="accordion-arrow"><i class="fas fa-chevron-down"></i></span>
        </div>

        <div class="accordion-content">
          <div class="filters-section">
            <div class="filters-grid">
            <div class="filter-group">
              <label class="filter-label">
                <i class="fas fa-clock"></i> èª¿ç†æ™‚é–“ï¼ˆé‡è¦ï¼ï¼‰
              </label>
              <select id="time-filter" class="filter-control">
                <option value="">æŒ‡å®šãªã—</option>
                <option value="15" selected>15åˆ†ä»¥å†…ï¼ˆãŠã™ã™ã‚ï¼‰</option>
                <option value="30">30åˆ†ä»¥å†…</option>
                <option value="60">60åˆ†ä»¥å†…</option>
              </select>
            </div>
            <div class="filter-group">
              <label class="filter-label">
                <i class="fas fa-star"></i> é›£æ˜“åº¦
              </label>
              <select id="difficulty-filter" class="filter-control">
                <option value="">æŒ‡å®šãªã—</option>
                <option value="easy" selected>ç°¡å˜ï¼ˆãŠã™ã™ã‚ï¼‰</option>
                <option value="medium">æ™®é€š</option>
                <option value="hard">æœ¬æ ¼çš„</option>
              </select>
            </div>
            <div class="filter-group">
              <label class="filter-label">
                <i class="fas fa-utensils"></i> æ–™ç†ã‚«ãƒ†ã‚´ãƒª
              </label>
              <select id="category-filter" class="filter-control">
                <option value="">æŒ‡å®šãªã—</option>
                <option value="main">ãƒ¡ã‚¤ãƒ³æ–™ç†</option>
                <option value="side">å‰¯èœãƒ»ãŠã‹ãš</option>
                <option value="soup">ã‚¹ãƒ¼ãƒ—ãƒ»æ±ç‰©</option>
                <option value="dessert">ãƒ‡ã‚¶ãƒ¼ãƒˆ</option>
              </select>
            </div>
            <div class="filter-group">
              <label class="filter-label">
                <i class="fas fa-heart"></i> ã‚«ãƒ­ãƒªãƒ¼ä¸Šé™
              </label>
              <input type="number" id="calorie-filter" class="filter-control" placeholder="ä¾‹: 400" min="0" max="1000" step="50">
            </div>
          </div>
        </div>
        
        </div>
      </section>

      <!-- Mama Tips Section -->
      <div class="mama-tips">
        <div class="tips-header">
          <div class="tips-icon">ğŸ’</div>
          <h3 class="tips-title">å¿™ã—ã„ãƒãƒã®ãŸã‚ã®æ™‚çŸ­ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯</h3>
        </div>
        <ul class="tips-list">
          <li>é€±æœ«ã«é‡èœã‚’ã‚«ãƒƒãƒˆã—ã¦å†·å‡ä¿å­˜ã™ã‚‹ã¨å¹³æ—¥ãŒæ¥½ã«ãªã‚Šã¾ã™</li>
          <li>ä¸€åº¦ã«å¤šã‚ã«ä½œã£ã¦ç¿Œæ—¥ã®ãŠå¼å½“ã®ãŠã‹ãšã«ã‚‚æ´»ç”¨ã—ã¾ã—ã‚‡ã†</li>
          <li>èª¿å‘³æ–™ã¯è¨ˆé‡ã‚¹ãƒ—ãƒ¼ãƒ³ã‚’ä½¿ã‚ãšã€å°ã•ã˜1ï¼ãƒšãƒƒãƒˆãƒœãƒˆãƒ«ã‚­ãƒ£ãƒƒãƒ—1æ¯ã§ä»£ç”¨OK</li>
          <li>å­ã©ã‚‚ãŒå¥½ããªå‘³ä»˜ã‘ã®ãƒ¬ã‚·ãƒ”ã¯â˜…ãƒãƒ¼ã‚¯ã§ãŠæ°—ã«å…¥ã‚Šç™»éŒ²ã‚’ï¼</li>
        </ul>
      </div>

      <!-- Results Section -->
      <section id="results-section" style="display: none;">
        <div class="mama-section">
          <div class="section-header">
            <div class="section-icon">
              <i class="fas fa-list-ul"></i>
            </div>
            <div>
              <h2 class="section-title">ãŠã™ã™ã‚ãƒ¬ã‚·ãƒ”</h2>
              <p class="section-subtitle">ã‚ãªãŸã«ã´ã£ãŸã‚Šã®ãƒ¬ã‚·ãƒ”ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸï¼</p>
            </div>
          </div>
          <div id="results"></div>
        </div>
      </section>
    </div>
  </main>

  <div class="search-section fixed-search">
    <button class="search-btn" id="search">
      <i class="fas fa-magic"></i> AIã«ãƒ¬ã‚·ãƒ”ã‚’ææ¡ˆã—ã¦ã‚‚ã‚‰ã†
    </button>
  </div>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="#privacy"><i class="fas fa-shield-alt"></i> ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
        <a href="#terms"><i class="fas fa-file-contract"></i> åˆ©ç”¨è¦ç´„</a>
        <a href="#contact"><i class="fas fa-envelope"></i> ãŠå•ã„åˆã‚ã›</a>
        <a href="#feedback"><i class="fas fa-comment-dots"></i> ã”æ„è¦‹ãƒ»ã”è¦æœ›</a>
      </div>
      <p style="opacity: 0.8; margin-top: 1rem;">
        <i class="fas fa-heart" style="color: #FF6B9D;"></i> 
        å¿™ã—ã„ãƒãƒã‚’å¿œæ´ã™ã‚‹ PantryChef Pro Â© 2024
      </p>
    </div>
  </footer>

<script>
// Enhanced Recipe Data with more family-friendly recipes
const mamaRecipesData = {
  ingredients: [
    { name: 'åµ', emoji: 'ğŸ¥š' },
    { name: 'ç‰›ä¹³', emoji: 'ğŸ¥›' },
    { name: 'é¶è‚‰', emoji: 'ğŸ”' },
    { name: 'è±šè‚‰', emoji: 'ğŸ·' },
    { name: 'ç‰›è‚‰', emoji: 'ğŸ„' },
    { name: 'ç‰ã­ã', emoji: 'ğŸ§…' },
    { name: 'ãƒˆãƒãƒˆ', emoji: 'ğŸ…' },
    { name: 'ã˜ã‚ƒãŒã„ã‚‚', emoji: 'ğŸ¥”' },
    { name: 'ã«ã‚“ã˜ã‚“', emoji: 'ğŸ¥•' },
    { name: 'ã‚­ãƒ£ãƒ™ãƒ„', emoji: 'ğŸ¥¬' },
    { name: 'ãƒ–ãƒ­ãƒƒã‚³ãƒªãƒ¼', emoji: 'ğŸ¥¦' },
    { name: 'ã»ã†ã‚Œã‚“è‰', emoji: 'ğŸ¥¬' },
    { name: 'ãƒ¬ã‚¿ã‚¹', emoji: 'ğŸ¥¬' },
    { name: 'ç™½èœ', emoji: 'ğŸ¥¬' },
    { name: 'ã‚‚ã‚„ã—', emoji: 'ğŸŒ±' },
    { name: 'ãã®ã“é¡', emoji: 'ğŸ„' },
    { name: 'ã«ã‚“ã«ã', emoji: 'ğŸ§„' },
    { name: 'ç”Ÿå§œ', emoji: 'ğŸ«š' },
    { name: 'ã”é£¯', emoji: 'ğŸš' },
    { name: 'ãƒ‘ãƒ³', emoji: 'ğŸ' },
    { name: 'ãƒ‘ã‚¹ã‚¿', emoji: 'ğŸ' },
    { name: 'ã†ã©ã‚“', emoji: 'ğŸœ' },
    { name: 'ãã°', emoji: 'ğŸœ' },
    { name: 'ãƒãƒ¼ã‚º', emoji: 'ğŸ§€' },
    { name: 'å°éº¦ç²‰', emoji: 'ğŸŒ¾' },
    { name: 'ç‰‡æ —ç²‰', emoji: 'ğŸŒ¾' },
    { name: 'ãƒ”ãƒ¼ãƒãƒ³', emoji: 'ğŸ«‘' },
    { name: 'ã‚ºãƒƒã‚­ãƒ¼ãƒ‹', emoji: 'ğŸ¥’' },
    { name: 'ãƒŠã‚¹', emoji: 'ğŸ†' },
    { name: 'é®­', emoji: 'ğŸŸ' },
    { name: 'è±†è…', emoji: 'ğŸ¢' }
  ],
  recipes: [
    {
      id: 1,
      name: 'å¿™ã—ã„ãƒãƒã®ç°¡å˜ã‚ªãƒ ãƒ©ã‚¤ã‚¹',
      ingredients: ['åµ', 'ã”é£¯', 'ç‰ã­ã', 'ã‚±ãƒãƒ£ãƒƒãƒ—', 'ãƒã‚¿ãƒ¼', 'å¡©', 'ã“ã—ã‚‡ã†'],
      cookingTime: 12,
      difficulty: 'easy',
      category: 'main',
      calories: 380,
      servings: 2,
      instructions: [
        'ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã«ãƒã‚¿ãƒ¼ã‚’æº¶ã‹ã—ã€ã¿ã˜ã‚“åˆ‡ã‚Šã—ãŸç‰ã­ãã‚’ç‚’ã‚ã‚‹',
        'ã”é£¯ã‚’åŠ ãˆã¦ã‚±ãƒãƒ£ãƒƒãƒ—ã§ç‚’ã‚ã¦ãƒã‚­ãƒ³ãƒ©ã‚¤ã‚¹ã‚’ä½œã‚‹',
        'åµã‚’æº¶ã„ã¦åˆ¥ã®ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã§è–„ç„¼ãã«ã™ã‚‹',
        'ãƒã‚­ãƒ³ãƒ©ã‚¤ã‚¹ã‚’åµã§åŒ…ã‚“ã§å®Œæˆï¼'
      ],
      nutrition: { protein: 15, carbs: 45, fat: 18, fiber: 2 },
      tags: ['å­ã©ã‚‚å¤§å¥½ã', 'æ™‚çŸ­', 'å®šç•ª', 'ãŠå¼å½“ã«ã‚‚'],
      mamaNote: 'å†·å‡ã”é£¯ã‚’ä½¿ãˆã°ã•ã‚‰ã«æ™‚çŸ­ï¼å­ã©ã‚‚ã‚‚å–œã¶å®šç•ªãƒ¡ãƒ‹ãƒ¥ãƒ¼ã§ã™ã€‚'
    },
    {
      id: 2,
      name: 'æ „é¤Šæº€ç‚¹ï¼é‡èœãŸã£ã·ã‚Šãƒãƒ³ãƒãƒ¼ã‚°',
      ingredients: ['è±šè‚‰', 'ç‰ã­ã', 'ã«ã‚“ã˜ã‚“', 'ã‚­ãƒ£ãƒ™ãƒ„', 'åµ', 'ãƒ‘ãƒ³', 'ç‰›ä¹³', 'å¡©', 'ã“ã—ã‚‡ã†'],
      cookingTime: 18,
      difficulty: 'easy',
      category: 'main',
      calories: 320,
      servings: 3,
      instructions: [
        'é‡èœã‚’ã¿ã˜ã‚“åˆ‡ã‚Šã«ã—ã¦ãƒ¬ãƒ³ã‚¸ã§2åˆ†åŠ ç†±',
        'ãƒ‘ãƒ³ã‚’ç‰›ä¹³ã«æµ¸ã—ã¦ãµã‚„ã‹ã™',
        'è±šè‚‰ã€é‡èœã€ãƒ‘ãƒ³ã€åµã‚’æ··ãœã¦æˆå½¢',
        'ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã§ä¸¡é¢ç„¼ã„ã¦è’¸ã—ç„¼ãã«ã™ã‚‹'
      ],
      nutrition: { protein: 22, carbs: 15, fat: 16, fiber: 3 },
      tags: ['é‡èœãŸã£ã·ã‚Š', 'æ „é¤Šæº€ç‚¹', 'å†·å‡OK', 'å­ã©ã‚‚å‘ã‘'],
      mamaNote: 'é‡èœå«Œã„ã®å­ã©ã‚‚ã§ã‚‚é£Ÿã¹ã‚„ã™ã„ï¼ã¾ã¨ã‚ã¦ä½œã£ã¦å†·å‡ä¿å­˜ã‚‚ã§ãã¾ã™ã€‚'
    },
    {
      id: 3,
      name: 'åŒ…ä¸ã„ã‚‰ãšï¼ã‚‚ã‚„ã—è±šå·»ã',
      ingredients: ['è±šè‚‰', 'ã‚‚ã‚„ã—', 'é†¤æ²¹', 'ã¿ã‚Šã‚“', 'é…’', 'ç ‚ç³–', 'æ²¹'],
      cookingTime: 10,
      difficulty: 'easy',
      category: 'main',
      calories: 280,
      servings: 2,
      instructions: [
        'ã‚‚ã‚„ã—ã‚’è±šè‚‰ã§å·»ãï¼ˆåŒ…ä¸ä¸è¦ï¼ï¼‰',
        'ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã«æ²¹ã‚’ç†±ã—ã¦å·»ãçµ‚ã‚ã‚Šã‚’ä¸‹ã«ã—ã¦ç„¼ã',
        'å…¨ä½“ã«ç„¼ãè‰²ãŒã¤ã„ãŸã‚‰èª¿å‘³æ–™ã‚’åŠ ãˆã‚‹',
        'æ±æ°—ãŒãªããªã‚‹ã¾ã§çµ¡ã‚ã¦å®Œæˆ'
      ],
      nutrition: { protein: 25, carbs: 8, fat: 15, fiber: 2 },
      tags: ['åŒ…ä¸ä¸è¦', 'è¶…æ™‚çŸ­', 'ãƒ˜ãƒ«ã‚·ãƒ¼', 'ç¯€ç´„'],
      mamaNote: 'æ´—ã„ç‰©ãŒå°‘ãªãã¦æ¸ˆã‚€å¿™ã—ã„æ—¥ã®æ•‘ä¸–ä¸»ãƒ¬ã‚·ãƒ”ï¼'
    },
    {
      id: 4,
      name: 'ãƒ¬ãƒ³ã‚¸ã§ç°¡å˜ï¼è’¸ã—é¶ã‚µãƒ©ãƒ€',
      ingredients: ['é¶è‚‰', 'ã‚­ãƒ£ãƒ™ãƒ„', 'ã«ã‚“ã˜ã‚“', 'é†¤æ²¹', 'é…¢', 'ç ‚ç³–', 'ã”ã¾æ²¹', 'å¡©'],
      cookingTime: 8,
      difficulty: 'easy',
      category: 'main',
      calories: 220,
      servings: 2,
      instructions: [
        'é¶è‚‰ã«å¡©ã‚’ã—ã¦è€ç†±çš¿ã«ã®ã›ãƒ©ãƒƒãƒ—ã‚’ã—ã¦ãƒ¬ãƒ³ã‚¸ã§5åˆ†',
        'ã‚­ãƒ£ãƒ™ãƒ„ã¨ã«ã‚“ã˜ã‚“ã‚’åƒåˆ‡ã‚Šã«ã—ã¦æ°´ã«ã•ã‚‰ã™',
        'é¶è‚‰ã‚’æ‰‹ã§è£‚ã„ã¦é‡èœã¨æ··ãœã‚‹',
        'ãƒ‰ãƒ¬ãƒƒã‚·ãƒ³ã‚°ã®ææ–™ã‚’æ··ãœã¦ã‹ã‘ã‚‹'
      ],
      nutrition: { protein: 28, carbs: 6, fat: 8, fiber: 3 },
      tags: ['ãƒ¬ãƒ³ã‚¸èª¿ç†', 'ãƒ˜ãƒ«ã‚·ãƒ¼', 'ç«ã‚’ä½¿ã‚ãªã„', 'ãƒ€ã‚¤ã‚¨ãƒƒãƒˆ'],
      mamaNote: 'ç«ã‚’ä½¿ã‚ãªã„ã®ã§å¤å ´ã«ã‚‚å®‰å¿ƒï¼ãƒ˜ãƒ«ã‚·ãƒ¼ã§æ „é¤Šãƒãƒ©ãƒ³ã‚¹â—'
    },
    {
      id: 5,
      name: 'ãƒ¯ãƒ³ãƒãƒƒãƒˆï¼ãƒˆãƒãƒˆã‚¹ãƒ¼ãƒ—ãƒ‘ã‚¹ã‚¿',
      ingredients: ['ãƒ‘ã‚¹ã‚¿', 'ãƒˆãƒãƒˆ', 'ç‰ã­ã', 'ã«ã‚“ã«ã', 'ãƒ™ãƒ¼ã‚³ãƒ³', 'ãƒãƒ¼ã‚º', 'ç‰›ä¹³', 'å¡©', 'ã“ã—ã‚‡ã†'],
      cookingTime: 15,
      difficulty: 'easy',
      category: 'main',
      calories: 420,
      servings: 2,
      instructions: [
        'æ·±ã„ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã«ææ–™ã‚’ã™ã¹ã¦å…¥ã‚Œã‚‹',
        'æ°´ã‚’åŠ ãˆã¦å¼·ç«ã§æ²¸é¨°ã•ã›ã‚‹',
        'ãƒ‘ã‚¹ã‚¿ãŒæŸ”ã‚‰ã‹ããªã‚‹ã¾ã§ç…®è¾¼ã‚€',
        'ãƒãƒ¼ã‚ºã‚’åŠ ãˆã¦æ··ãœåˆã‚ã›ã‚‹'
      ],
      nutrition: { protein: 18, carbs: 52, fat: 16, fiber: 4 },
      tags: ['ãƒ¯ãƒ³ãƒãƒƒãƒˆ', 'æ´—ã„ç‰©å°‘', 'å­ã©ã‚‚å¥½ã¿', 'ç°¡å˜'],
      mamaNote: 'ãŠé‹ã²ã¨ã¤ã§å®Œæˆï¼æ´—ã„ç‰©ãŒå°‘ãªãã¦å¿™ã—ã„æ—¥ã«ã´ã£ãŸã‚Šã€‚'
    },
    {
      id: 6,
      name: '5åˆ†ã§å®Œæˆï¼åµã¨ã˜ã†ã©ã‚“',
      ingredients: ['ã†ã©ã‚“', 'åµ', 'ç‰ã­ã', 'é†¤æ²¹', 'ã¿ã‚Šã‚“', 'ç ‚ç³–', 'ã ã—ã®ç´ '],
      cookingTime: 5,
      difficulty: 'easy',
      category: 'main',
      calories: 320,
      servings: 1,
      instructions: [
        'å†·å‡ã†ã©ã‚“ã‚’ãƒ¬ãƒ³ã‚¸ã§æ¸©ã‚ã‚‹',
        'ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã«èª¿å‘³æ–™ã¨ã ã—ã€ç‰ã­ãã‚’å…¥ã‚Œã¦ç…®ã‚‹',
        'ã†ã©ã‚“ã‚’åŠ ãˆã¦æº¶ãåµã‚’å›ã—å…¥ã‚Œã‚‹',
        'åµãŒåŠç†Ÿã«ãªã£ãŸã‚‰å®Œæˆ'
      ],
      nutrition: { protein: 15, carbs: 48, fat: 8, fiber: 2 },
      tags: ['è¶…æ™‚çŸ­', 'æœé£Ÿã«ã‚‚', 'å¤œé£Ÿã«ã‚‚', 'å„ªã—ã„å‘³'],
      mamaNote: 'ä½“èª¿æ‚ªã„æ—¥ã‚„å¿™ã—ã„æœã«ã‚‚â—å„ªã—ã„å‘³ã§å®¶æ—ã¿ã‚“ãªã«å¥½è©•ã§ã™ã€‚'
    },
    {
      id: 7,
      name: 'ã‚«ãƒƒãƒˆé‡èœã§æ™‚çŸ­ï¼é‡èœç‚’ã‚',
      ingredients: ['ã‚«ãƒƒãƒˆé‡èœ', 'è±šè‚‰', 'é†¤æ²¹', 'ã¿ã‚Šã‚“', 'æ²¹', 'å¡©', 'ã“ã—ã‚‡ã†'],
      cookingTime: 7,
      difficulty: 'easy',
      category: 'side',
      calories: 180,
      servings: 2,
      instructions: [
        'ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã«æ²¹ã‚’ç†±ã—ã¦è±šè‚‰ã‚’ç‚’ã‚ã‚‹',
        'ã‚«ãƒƒãƒˆé‡èœã‚’åŠ ãˆã¦å¼·ç«ã§ç‚’ã‚ã‚‹',
        'èª¿å‘³æ–™ã‚’åŠ ãˆã¦å…¨ä½“ã«çµ¡ã‚ã‚‹',
        'å¡©ã“ã—ã‚‡ã†ã§å‘³ã‚’èª¿ãˆã‚‹'
      ],
      nutrition: { protein: 12, carbs: 8, fat: 10, fiber: 4 },
      tags: ['ã‚«ãƒƒãƒˆé‡èœ', 'ã‚³ãƒ³ãƒ“ãƒ‹é£Ÿæ', 'è¶…æ™‚çŸ­', 'é‡èœä¸è¶³è§£æ¶ˆ'],
      mamaNote: 'ã‚³ãƒ³ãƒ“ãƒ‹ã®ã‚«ãƒƒãƒˆé‡èœã‚’æ´»ç”¨ï¼åˆ‡ã‚‹æ‰‹é–“ãªã—ã§é‡èœä¸è¶³è§£æ¶ˆã€‚'
    },
    {
      id: 8,
      name: 'ãƒ¬ãƒ³ã‚¸ã§ç°¡å˜ï¼è‚‰ã˜ã‚ƒãŒ',
      ingredients: ['ã˜ã‚ƒãŒã„ã‚‚', 'ç‰ã­ã', 'ã«ã‚“ã˜ã‚“', 'è±šè‚‰', 'é†¤æ²¹', 'ã¿ã‚Šã‚“', 'ç ‚ç³–', 'ã ã—ã®ç´ '],
      cookingTime: 12,
      difficulty: 'easy',
      category: 'main',
      calories: 280,
      servings: 3,
      instructions: [
        'ã˜ã‚ƒãŒã„ã‚‚ã€ã«ã‚“ã˜ã‚“ã‚’ä¸€å£å¤§ã«åˆ‡ã£ã¦ãƒ¬ãƒ³ã‚¸ã§3åˆ†',
        'è€ç†±ãƒœã‚¦ãƒ«ã«å…¨ã¦ã®ææ–™ã‚’å…¥ã‚Œã‚‹',
        'ãƒ©ãƒƒãƒ—ã‚’ã—ã¦ãƒ¬ãƒ³ã‚¸ã§8åˆ†åŠ ç†±',
        'ä¸€åº¦æ··ãœã¦ã•ã‚‰ã«2åˆ†åŠ ç†±'
      ],
      nutrition: { protein: 18, carbs: 32, fat: 8, fiber: 3 },
      tags: ['ãƒ¬ãƒ³ã‚¸èª¿ç†', 'å®šç•ªãŠã‹ãš', 'ç«ã‚’ä½¿ã‚ãªã„', 'ä½œã‚Šç½®ãOK'],
      mamaNote: 'ã‚³ãƒ³ãƒ­ã‚’ä½¿ã‚ãªã„ã®ã§ä»–ã®æ–™ç†ã¨åŒæ™‚é€²è¡Œã§ãã¦ä¾¿åˆ©ï¼'
    },
    {
      id: 9,
      name: 'ãƒ”ãƒ¼ãƒãƒ³ã¨è±šè‚‰ã®ã¿ãç‚’ã‚',
      ingredients: ['è±šè‚‰', 'ãƒ”ãƒ¼ãƒãƒ³', 'ã«ã‚“ã˜ã‚“', 'ã¿ã', 'ã¿ã‚Šã‚“', 'ç ‚ç³–', 'æ²¹'],
      cookingTime: 10,
      difficulty: 'easy',
      category: 'main',
      calories: 310,
      servings: 2,
      instructions: [
        'ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã§è±šè‚‰ã¨ãƒ”ãƒ¼ãƒãƒ³ã‚’ç‚’ã‚ã‚‹',
        'ã«ã‚“ã˜ã‚“ã‚’åŠ ãˆã¦ã•ã‚‰ã«ç‚’ã‚ã‚‹',
        'èª¿å‘³æ–™ã‚’åŠ ãˆã¦å…¨ä½“ã‚’çµ¡ã‚ã‚‹',
        'æ°´åˆ†ãŒé£›ã‚“ã ã‚‰å®Œæˆ'
      ],
      nutrition: { protein: 20, carbs: 14, fat: 18, fiber: 3 },
      tags: ['ã”é£¯ãŒé€²ã‚€', 'æ™‚çŸ­', 'é‡èœè¿½åŠ '],
      mamaNote: 'å‘³å™Œã ã‚Œã§ã”é£¯ãŒé€²ã‚€ï¼å†·è”µåº«ã®æ®‹ã‚Šé‡èœã§ã‚¢ãƒ¬ãƒ³ã‚¸è‡ªåœ¨ã€‚'
    },
    {
      id: 10,
      name: 'é®­ã®ãƒã‚¿ãƒ¼é†¤æ²¹ã‚½ãƒ†ãƒ¼',
      ingredients: ['é®­', 'ãƒã‚¿ãƒ¼', 'é†¤æ²¹', 'å¡©', 'ã“ã—ã‚‡ã†'],
      cookingTime: 10,
      difficulty: 'easy',
      category: 'main',
      calories: 260,
      servings: 2,
      instructions: [
        'ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³ã«ãƒã‚¿ãƒ¼ã‚’æº¶ã‹ã—ã¦é®­ã‚’ç„¼ã',
        'ä¸¡é¢ã«ç„¼ãè‰²ãŒã¤ã„ãŸã‚‰é†¤æ²¹ã‚’å›ã—å…¥ã‚Œã‚‹',
        'å¡©ã“ã—ã‚‡ã†ã§å‘³ã‚’æ•´ãˆã¦å®Œæˆ',
        'ãŠå¥½ã¿ã§ãƒ¬ãƒ¢ãƒ³ã‚’æ·»ãˆã‚‹'
      ],
      nutrition: { protein: 22, carbs: 4, fat: 16, fiber: 0 },
      tags: ['ãƒ•ãƒ©ã‚¤ãƒ‘ãƒ³', 'é­šæ–™ç†', 'å­ã©ã‚‚å–œã¶'],
      mamaNote: 'å†·å‡é®­ã‚’ä½¿ãˆã°è§£å‡ã—ã¦ç„¼ãã ã‘ï¼å¿™ã—ã„å¤•é£Ÿã«â—'
    },
    {
      id: 11,
      name: 'è±†è…ã¨ãƒŠã‚¹ã®ãã¼ã‚ã‚ã‚“',
      ingredients: ['è±†è…', 'ãƒŠã‚¹', 'é¶è‚‰', 'é†¤æ²¹', 'ã¿ã‚Šã‚“', 'ç ‚ç³–', 'ç‰‡æ —ç²‰', 'æ²¹'],
      cookingTime: 15,
      difficulty: 'easy',
      category: 'side',
      calories: 210,
      servings: 2,
      instructions: [
        'ãƒŠã‚¹ã‚’ç‚’ã‚ã¦å–ã‚Šå‡ºã™',
        'é¶è‚‰ã‚’ç‚’ã‚ã¦èª¿å‘³æ–™ã‚’åŠ ãˆã‚‹',
        'æ°´æº¶ãç‰‡æ —ç²‰ã§ã¨ã‚ã¿ã‚’ã¤ã‘ã‚‹',
        'ãƒŠã‚¹ã¨è±†è…ã‚’åŠ ãˆã¦ã•ã£ã¨çµ¡ã‚ã‚‹'
      ],
      nutrition: { protein: 14, carbs: 10, fat: 12, fiber: 2 },
      tags: ['ãƒ˜ãƒ«ã‚·ãƒ¼', 'ã”é£¯ã«åˆã†', 'ä½œã‚Šç½®ã'],
      mamaNote: 'ã¨ã‚ã¿ã®ã‚ã‚‹ã‚ã‚“ãŒå­ã©ã‚‚ã«äººæ°—ã€‚è±†è…ã§ãƒ˜ãƒ«ã‚·ãƒ¼ï¼'
    }
  ]
};

// Application State
let selectedIngredients = new Set();
let currentRecipes = [];
let favorites = new Set();

// DOM Elements
const ingredientsDiv = document.getElementById('ingredients');
const customInput = document.getElementById('custom-ingredient');
const addBtn = document.getElementById('add-ingredient');
const searchBtn = document.getElementById('search');
const resultsDiv = document.getElementById('results');
const resultsSection = document.getElementById('results-section');
const timeFilter = document.getElementById('time-filter');
const difficultyFilter = document.getElementById('difficulty-filter');
const categoryFilter = document.getElementById('category-filter');
const calorieFilter = document.getElementById('calorie-filter');

// Stats elements
const selectedCountEl = document.getElementById('selected-count');
const recipeCountEl = document.getElementById('recipe-count');
const totalRecipeCountEl = document.getElementById('total-recipe-count');
const matchRateEl = document.getElementById('match-rate');
const avgTimeEl = document.getElementById('avg-time');

// Initialize the app
function init() {
  renderIngredients();
  loadFavorites();
  updateStats();
  
  // Set default filters for busy moms
  timeFilter.value = '15';
  difficultyFilter.value = 'easy';
}

// Render ingredient cards with emojis
function renderIngredients() {
  ingredientsDiv.innerHTML = '';
  mamaRecipesData.ingredients.forEach(ingredient => {
    const card = document.createElement('div');
    card.className = 'ingredient-card';
    
    const checkbox = document.createElement('input');
    checkbox.type = 'checkbox';
    checkbox.value = ingredient.name;
    checkbox.id = `ingredient-${ingredient.name}`;
    
    card.innerHTML = `
      <span class="ingredient-emoji">${ingredient.emoji}</span>
      <span class="ingredient-name">${ingredient.name}</span>
    `;
    card.appendChild(checkbox);
    
    // Event listeners
    card.addEventListener('click', (e) => {
      if (e.target.type !== 'checkbox') {
        checkbox.checked = !checkbox.checked;
      }
      toggleIngredient(ingredient.name, checkbox.checked);
      card.classList.toggle('selected', checkbox.checked);
    });
    
    checkbox.addEventListener('change', (e) => {
      toggleIngredient(ingredient.name, e.target.checked);
      card.classList.toggle('selected', e.target.checked);
    });
    
    ingredientsDiv.appendChild(card);
  });
}

// Toggle ingredient selection
function toggleIngredient(ingredient, isSelected) {
  if (isSelected) {
    selectedIngredients.add(ingredient);
  } else {
    selectedIngredients.delete(ingredient);
  }
  updateStats();
}

// Add custom ingredient
function addCustomIngredient() {
  const ingredient = customInput.value.trim();
  if (!ingredient) return;
  
  if (selectedIngredients.has(ingredient)) {
    showNotification('ã“ã®é£Ÿæã¯æ—¢ã«é¸æŠã•ã‚Œã¦ã„ã¾ã™', 'warning');
    return;
  }
  
  selectedIngredients.add(ingredient);
  
  // Add to UI
  const card = document.createElement('div');
  card.className = 'ingredient-card selected';
  card.innerHTML = `
    <span class="ingredient-emoji">ğŸ¥˜</span>
    <span class="ingredient-name">${ingredient}</span>
    <input type="checkbox" checked>
  `;
  
  card.addEventListener('click', () => {
    selectedIngredients.delete(ingredient);
    card.remove();
    updateStats();
  });
  
  ingredientsDiv.appendChild(card);
  customInput.value = '';
  updateStats();
  showNotification('é£Ÿæã‚’è¿½åŠ ã—ã¾ã—ãŸï¼', 'success');
}

// Calculate recipe match score
function calculateMatchScore(recipe) {
  const availableIngredients = recipe.ingredients.filter(ing => 
    selectedIngredients.has(ing)
  );
  return availableIngredients.length / recipe.ingredients.length;
}

// Filter and search recipes
function searchRecipes() {
  if (selectedIngredients.size === 0) {
    showNotification('é£Ÿæã‚’é¸æŠã—ã¦ãã ã•ã„', 'warning');
    return;
  }
  
  const maxTime = parseInt(timeFilter.value) || Infinity;
  const difficulty = difficultyFilter.value;
  const category = categoryFilter.value;
  const maxCalories = parseInt(calorieFilter.value) || Infinity;
  
  // Show loading
  showLoading();
  
  setTimeout(() => {
    currentRecipes = mamaRecipesData.recipes
      .filter(recipe => {
        return recipe.cookingTime <= maxTime &&
               (!difficulty || recipe.difficulty === difficulty) &&
               (!category || recipe.category === category) &&
               recipe.calories <= maxCalories;
      })
      .map(recipe => ({
        recipe,
        score: calculateMatchScore(recipe)
      }))
      .filter(item => item.score > 0)
      .sort((a, b) => b.score - a.score)
      .slice(0, 12);
    
    renderResults();
    updateStats();
    showNotification(`${currentRecipes.length}ä»¶ã®ãƒ¬ã‚·ãƒ”ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸï¼`, 'success');
  }, 1200);
}

// Show loading state with mama-friendly messages
function showLoading() {
  resultsDiv.innerHTML = `
    <div class="loading-state">
      <div class="loading-spinner"></div>
      <h3>ã‚ãªãŸã«ã´ã£ãŸã‚Šã®ãƒ¬ã‚·ãƒ”ã‚’æ¢ã—ã¦ã„ã¾ã™...</h3>
      <p style="color: var(--text-secondary); margin-top: 1rem;">
        ğŸ” æ™‚çŸ­ãƒ¬ã‚·ãƒ”ã‚’å„ªå…ˆçš„ã«æ¤œç´¢ä¸­<br>
        ğŸ’ æ „é¤Šãƒãƒ©ãƒ³ã‚¹ã‚‚è€ƒæ…®ã—ã¦ã„ã¾ã™<br>
        ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å®¶æ—ã¿ã‚“ãªãŒå–œã¶ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’å³é¸ä¸­
      </p>
    </div>
  `;
  resultsSection.style.display = 'block';
  resultsSection.scrollIntoView({ behavior: 'smooth' });
}

// Render search results
function renderResults() {
  if (currentRecipes.length === 0) {
    resultsDiv.innerHTML = `
      <div class="no-results">
        <div class="no-results-icon">ğŸ˜”</div>
        <h3>æ¡ä»¶ã«åˆã†ãƒ¬ã‚·ãƒ”ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</h3>
        <p>æ¤œç´¢æ¡ä»¶ã‚’ç·©ã‚ã¦å†åº¦ãŠè©¦ã—ãã ã•ã„</p>
        <p style="margin-top: 1rem; color: var(--text-secondary);">
          ğŸ’¡ ãƒ’ãƒ³ãƒˆï¼šèª¿ç†æ™‚é–“ã‚’é•·ã‚ã«è¨­å®šã—ãŸã‚Šã€é£Ÿæã‚’è¿½åŠ ã—ã¦ã¿ã¦ãã ã•ã„
        </p>
      </div>
    `;
    return;
  }
  
  resultsDiv.innerHTML = `
    <div class="recipe-grid">
      ${currentRecipes.map(item => renderRecipeCard(item.recipe, item.score)).join('')}
    </div>
  `;
}

// Render individual recipe card
function renderRecipeCard(recipe, score) {
  const matchPercentage = Math.round(score * 100);
  const isFavorited = favorites.has(recipe.id);

  return `
    <div class="recipe-card">
      <div class="recipe-header accordion-header" onclick="toggleRecipeDetails(event)">
        <div class="recipe-badges">
          <div class="recipe-badge match-badge">${matchPercentage}% ãƒãƒƒãƒ</div>
          <div class="recipe-badge time-badge">â±ï¸ ${recipe.cookingTime}åˆ†</div>
        </div>

      <div class="recipe-title">${recipe.name}</div>
      <div class="recipe-meta">
        <span><i class="fas fa-users"></i> ${recipe.servings}äººåˆ†</span>
        <span class="difficulty-badge difficulty-${recipe.difficulty}">
          ${getDifficultyText(recipe.difficulty)}
        </span>
        <span><i class="fas fa-fire"></i> ${recipe.calories}kcal</span>
      </div>
      <span class="accordion-arrow"><i class="fas fa-chevron-down"></i></span>
    </div>
      <div class="recipe-content accordion-content">
        <div class="ingredients-section">
          <h4 class="ingredients-title">
            <i class="fas fa-list"></i> ææ–™ (${recipe.ingredients.length}ç¨®é¡)
          </h4>
          <ul class="ingredients-list">
            ${recipe.ingredients.map(ingredient => `
              <li class="ingredient-item">
                <span class="${selectedIngredients.has(ingredient) ? 'ingredient-available' : 'ingredient-missing'}">
                  ${selectedIngredients.has(ingredient) ? 'âœ…' : 'âŒ'} ${ingredient}
                </span>
              </li>
            `).join('')}
          </ul>
        </div>
        
        <div class="nutrition-section">
          <div class="nutrition-grid">
            <div class="nutrition-item">
              <div class="nutrition-value">${recipe.calories}</div>
              <div class="nutrition-label">ã‚«ãƒ­ãƒªãƒ¼</div>
            </div>
            <div class="nutrition-item">
              <div class="nutrition-value">${recipe.nutrition.protein}g</div>
              <div class="nutrition-label">ãŸã‚“ã±ãè³ª</div>
            </div>
            <div class="nutrition-item">
              <div class="nutrition-value">${recipe.nutrition.carbs}g</div>
              <div class="nutrition-label">ç‚­æ°´åŒ–ç‰©</div>
            </div>
            <div class="nutrition-item">
              <div class="nutrition-value">${recipe.nutrition.fat}g</div>
              <div class="nutrition-label">è„‚è³ª</div>
            </div>
            <div class="nutrition-item">
              <div class="nutrition-value">${recipe.nutrition.fiber}g</div>
              <div class="nutrition-label">é£Ÿç‰©ç¹Šç¶­</div>
            </div>
          </div>
        </div>
        
        <div class="instructions-section">
          <h4 class="instructions-title">
            <i class="fas fa-magic"></i> ä½œã‚Šæ–¹ï¼ˆè¶…ç°¡å˜ï¼ï¼‰
          </h4>
          <ol class="instructions-list">
            ${recipe.instructions.map(step => `<li>${step}</li>`).join('')}
          </ol>
        </div>
        
        ${recipe.mamaNote ? `
          <div style="background: var(--light-orange); padding: 1rem; border-radius: 8px; margin-top: 1rem; border-left: 4px solid var(--secondary-color);">
            <strong style="color: var(--secondary-color);">ğŸ‘©â€ğŸ³ ã‚¢ãƒ‰ãƒã‚¤ã‚¹ï¼š</strong><br>
            ${recipe.mamaNote}
          </div>
        ` : ''}
        
        <div class="recipe-tags">
          ${recipe.tags.map(tag => `<span class="recipe-tag">#${tag}</span>`).join('')}
        </div>
        
        <div style="text-align: center; margin-top: 1.5rem;">
          <button class="mama-button btn-primary" onclick="toggleFavorite(${recipe.id})">
            <i class="fas fa-heart"></i> ${isFavorited ? 'ãŠæ°—ã«å…¥ã‚Šç™»éŒ²æ¸ˆã¿' : 'ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ '}
          </button>
        </div>
      </div>
    </div>
  `;
}

// Accordion toggle for recipe cards
function toggleRecipeDetails(event) {
  const header = event.currentTarget;
  const content = header.nextElementSibling;
  if (!content) return;
  const isOpen = content.style.display === 'block';
  content.style.display = isOpen ? 'none' : 'block';
  const arrow = header.querySelector('.accordion-arrow i');
  if (arrow) {
    if (isOpen) {
      arrow.classList.remove('fa-chevron-up');
      arrow.classList.add('fa-chevron-down');
    } else {
      arrow.classList.remove('fa-chevron-down');
      arrow.classList.add('fa-chevron-up');
    }
  }
}
// Accordion toggle for sections
function toggleSection(event) {
  const header = event.currentTarget;
  const content = header.nextElementSibling;
  if (!content) return;
  const isOpen = content.style.display === "block";
  content.style.display = isOpen ? "none" : "block";
  const arrow = header.querySelector(".accordion-arrow i");
  if (arrow) {
    if (isOpen) {
      arrow.classList.remove("fa-chevron-up");
      arrow.classList.add("fa-chevron-down");
    } else {
      arrow.classList.remove("fa-chevron-down");
      arrow.classList.add("fa-chevron-up");
    }
  }
}


// Get difficulty text in Japanese
function getDifficultyText(difficulty) {
  const difficultyMap = {
    'easy': 'ç°¡å˜',
    'medium': 'æ™®é€š',
    'hard': 'æœ¬æ ¼çš„'
  };
  return difficultyMap[difficulty] || 'æ™®é€š';
}

// Toggle favorite status
function toggleFavorite(recipeId) {
  if (favorites.has(recipeId)) {
    favorites.delete(recipeId);
    showNotification('ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤ã—ã¾ã—ãŸ', 'info');
  } else {
    favorites.add(recipeId);
    showNotification('ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ ã—ã¾ã—ãŸï¼', 'success');
  }
  saveFavorites();
  renderResults(); // Re-render to update button state
}

// Show notification
function showNotification(message, type = 'info') {
  const notification = document.createElement('div');
  notification.style.cssText = `
    position: fixed;
    top: 2rem;
    right: 2rem;
    background: ${type === 'success' ? 'var(--primary-color)' : type === 'warning' ? 'var(--secondary-color)' : 'var(--accent-color)'};
    color: white;
    padding: 1rem 1.5rem;
    border-radius: 12px;
    font-weight: 600;
    z-index: 9999;
    box-shadow: var(--shadow-hover);
    transform: translateX(100%);
    transition: transform 0.3s ease;
  `;
  notification.textContent = message;
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.style.transform = 'translateX(0)';
  }, 100);
  
  setTimeout(() => {
    notification.style.transform = 'translateX(100%)';
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 300);
  }, 3000);
}

// Save favorites to localStorage
function saveFavorites() {
  try {
    localStorage.setItem('mama-favorites', JSON.stringify([...favorites]));
  } catch (e) {
    console.log('Cannot save favorites:', e);
  }
}

// Load favorites from localStorage
function loadFavorites() {
  try {
    const saved = localStorage.getItem('mama-favorites');
    if (saved) {
      favorites = new Set(JSON.parse(saved));
    }
  } catch (e) {
    console.log('Cannot load favorites:', e);
  }
}

// Update statistics
function updateStats() {
  selectedCountEl.textContent = selectedIngredients.size;
  recipeCountEl.textContent = currentRecipes.length;
  totalRecipeCountEl.textContent = mamaRecipesData.recipes.length;
  
  if (currentRecipes.length > 0) {
    const averageMatch = currentRecipes.reduce((sum, item) => sum + item.score, 0) / currentRecipes.length;
    matchRateEl.textContent = Math.round(averageMatch * 100) + '%';
    
    const averageTime = currentRecipes.reduce((sum, item) => sum + item.recipe.cookingTime, 0) / currentRecipes.length;
    avgTimeEl.textContent = Math.round(averageTime) + 'åˆ†';
  } else {
    matchRateEl.textContent = '0%';
    avgTimeEl.textContent = '0åˆ†';
  }
}

// Event listeners
addBtn.addEventListener('click', addCustomIngredient);
searchBtn.addEventListener('click', searchRecipes);

// Allow Enter key to add custom ingredient
customInput.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') {
    addCustomIngredient();
  }
});

// Keyboard shortcuts for busy moms
document.addEventListener('keydown', (e) => {
  if (e.ctrlKey || e.metaKey) {
    switch (e.key) {
      case 'Enter':
        e.preventDefault();
        searchRecipes();
        break;
      case 'k':
        e.preventDefault();
        customInput.focus();
        break;
    }
  }
});

// Initialize app when page loads
document.addEventListener('DOMContentLoaded', init);

// Demo mode: Auto-select common ingredients for busy moms
setTimeout(() => {
  const demoIngredients = ['åµ', 'ç‰ã­ã', 'è±šè‚‰', 'ã˜ã‚ƒãŒã„ã‚‚'];
  demoIngredients.forEach(ingredient => {
    const checkbox = document.querySelector(`input[value="${ingredient}"]`);
    if (checkbox) {
      checkbox.checked = true;
      toggleIngredient(ingredient, true);
      checkbox.closest('.ingredient-card').classList.add('selected');
    }
  });
  
  showNotification('ãƒ‡ãƒ¢ç”¨ã«é£Ÿæã‚’é¸æŠæ¸ˆã¿ã§ã™ï¼ã€ŒAIã«ãƒ¬ã‚·ãƒ”ã‚’ææ¡ˆã—ã¦ã‚‚ã‚‰ã†ã€ã‚’ã‚¯ãƒªãƒƒã‚¯â™ª', 'info');
}, 1000);

// PWA Service Worker registration
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('sw.js')
    .then(registration => console.log('SW registered:', registration))
    .catch(error => console.log('SW registration failed:', error));
}
</script>

</body>
</html>
